<script type="module">
  import xlStore from './index.js'

  const test = xlStore({
    state: {
      info: {
        name: 'hxl',
        age: 18,
      },
      teachers: [],
    },
    actions: {
      getName() {
        return this.info.name
      },
      setTeachers() {
        test.teachers = [
          {
            name: 'why',
            other: {
              age: 18,
            },
          },
          {
            name: 'pink',
            other: {
              age: 20,
            },
          },
        ]
      },
    },
  })

  console.log('test', test)

  test.watch('info', (value) => {
    console.log('watch-info', value)
  })

  test.watch('teachers', (value) => {
    console.log('watch-teachers', value)
  })

  setTimeout(() => {
    test.setTeachers()
    console.log('res', test)
  }, 1000)
</script>
