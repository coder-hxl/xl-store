var I=(t,e)=>()=>(t&&(e=t(t=0)),e);var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);function u(t,e=!1){function n(r,s){if(e){let c=t.state[r];s(r,c)}let i=t.trackStore,o=i[r];o||(o=i[r]=new Set),o.add(s)}return(r,s)=>{if(Array.isArray(r))for(let i of r)n(i,s);else n(r,s)}}function O({trackStore:t}){function e(n,r){let s=t[n];!s||s.delete(r)}return(n,r)=>{if(Array.isArray(n))for(let s of n)e(s,r);else e(n,r)}}function j(t,e){let{trackStore:n}=t,r=t.state[e],s=n[e];if(!!s)for(let i of s)i(e,r)}var x=I(()=>{"use strict"});function w(t,e){let{state:n,actions:r}=t;return new Proxy(t,{get(i,o){if(o in t)return t[o];if(o in e)return e[o];if(o in n)return n[o];if(o in r)return r[o];throw new Error(`\u4E0D\u80FD\u83B7\u53D6 ${o}`)},set(i,o,c){if(o in e)throw new Error(`${o} \u662F Store \u81EA\u5E26\u7684\u65B9\u6CD5\u4E0D\u5141\u8BB8\u88AB\u4FEE\u6539`);if(o in n)return n[o]=c,!0;throw o in r?new Error(`${o} \u662F actions \u7684\u65B9\u6CD5, \u4E0D\u5141\u8BB8\u88AB\u4FEE\u6539`):new Error(`${o} \u8BF7\u5728\u521B\u5EFA Store \u65F6\u6DFB\u52A0\u5230 State \u6216 Actions \u4E2D`)}})}function f(t,e,n=null){let{isDeepWatch:r}=t.options;return new Proxy(e,{set(s,i,o){if(s[i]===o)return!0;if(!r)s[i]=o;else{if(r&&y)return s[i]=o,!0;r&&typeof o=="object"&&o!==null&&(A=n!=null?n:i,s[i]=l(t,o),A=null)}return j(t,n!=null?n:i),!0}})}function l(t,e,n=!1){let r=Array.isArray(e)?[]:{};function s(i,o,c=!1){for(let S in i){let a=i[S];if(c&&(A=S),typeof a=="object"&&a!==null){let m=Array.isArray(a)?[]:{};s(a,m),o[S]=f(t,m,A)}else o[S]=a;c&&(A=null)}}return y=!0,s(e,r,n),y=!1,f(t,r,n?null:A)}var y,A,d=I(()=>{"use strict";x();y=!1,A=null});function F(t,e){let{isDeepWatch:n}=t.options;return n?l(t,e,!0):f(t,e)}function b(t,e,n){let r={id:v++,trackStore:{},state:{},actions:e,options:n};return r.state=F(r,t),r}function h(t){return{watch:u(t),watchEffect:u(t,!0),deleteWatch:O(t)}}var v,p=I(()=>{"use strict";x();d();v=0});function g(t){for(let e in t)if(typeof t[e]!="function")throw new Error("actions \u91CC\u53EA\u80FD\u653E\u51FD\u6570")}function P(t){if(t===null||typeof t!="object")throw new Error("state \u5FC5\u987B\u662F\u5BF9\u8C61")}var k=I(()=>{"use strict"});var D=E((M,R)=>{p();d();k();function $(t,e={}){var c,S;let n=(c=t.state)!=null?c:{},r=(S=t.actions)!=null?S:{};P(n),g(r);let s=b(n,r,e),i=h(s);return w(s,i)}R.exports=$});export default D();
