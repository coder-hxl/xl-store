var D=Object.create;var P=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var f=(t,e)=>()=>(t&&(e=t(t=0)),e);var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var C=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of W(e))!K.call(t,r)&&r!==n&&P(t,r,{get:()=>e[r],enumerable:!(s=F(e,r))||s.enumerable});return t};var T=(t,e,n)=>(n=t!=null?D(v(t)):{},C(e||!t||!t.__esModule?P(n,"default",{value:t,enumerable:!0}):n,t));function _(t){for(let e in t)if(typeof t[e]!="function")throw new Error("actions \u91CC\u53EA\u80FD\u653E\u51FD\u6570")}function q(t){if(t===null||typeof t!="object")throw new Error("state \u5FC5\u987B\u662F\u5BF9\u8C61")}function R(t){let{state:e={},actions:n={}}=t;q(e),_(n)}var h=f(()=>{"use strict"});function x(t,e=!1){function n(s,r){if(e){let a=t.state[s];r(s,a)}let o=t.trackStore,c=o[s];c||(c=o[s]=new Set),c.add(r)}return(s,r)=>{if(Array.isArray(s))for(let o of s)n(o,r);else n(s,r)}}function p({trackStore:t}){function e(n,s){let r=t[n];!r||r.delete(s)}return(n,s)=>{if(Array.isArray(n))for(let r of n)e(r,s);else e(n,s)}}function O(t,e){let{trackStore:n}=t,s=t.state[e],r=n[e];if(!!r)for(let o of r)o(e,s)}var u=f(()=>{"use strict"});function j(t){let{state:e,actions:n,storeApi:s}=t;return new Proxy(t,{get(r,o){return o in s?s[o]:o in e?e[o]:o in n?n[o]:void 0},set(r,o,c){if(o in s)throw new Error(`${o} \u662F Store \u81EA\u5E26\u7684\u4E0D\u5141\u8BB8\u88AB\u4FEE\u6539`);if(o in e)return e[o]=c,!0;throw o in n?new Error(`${o} \u662F actions , \u4E0D\u5141\u8BB8\u5728\u6B64\u88AB\u4FEE\u6539`):new Error(`${o} \u4E0D\u5141\u8BB8\u88AB\u4FEE\u6539\u6216\u6DFB\u52A0`)}})}function y(t,e,n=null){let{isDeepWatch:s}=t.options;return new Proxy(e,{set(r,o,c){if(r[o]===c)return!0;if(s){if(l)return r[o]=c,!0;typeof c=="object"&&c!==null?(i=n??o,r[o]=d(t,c),i=null):r[o]=c}else r[o]=c;return O(t,n??o),!0}})}function d(t,e,n=!1){let s=Array.isArray(e)?[]:{};function r(o,c,a=!1){for(let S in o){let I=o[S];if(a&&(i=S),typeof I=="object"&&I!==null){let g=Array.isArray(I)?[]:{};r(I,g),c[S]=y(t,g,i)}else c[S]=I;a&&(i=null)}}return l=!0,r(e,s,n),l=!1,y(t,s,n?null:i)}var l,i,m=f(()=>{"use strict";u();l=!1,i=null});function B(t,e){let{isDeepWatch:n}=t.options,s=n?d(t,e,!0):y(t,e);t.state=s}function G(t){let e={watch:x(t),watchEffect:x(t,!0),deleteWatch:p(t)};t.storeApi=e}function w(t,e={}){let{state:n={},actions:s={}}=t,r={id:z++,trackStore:{},storeApi:{},state:{},actions:s,options:e};return G(r),B(r,n),r}var z,b=f(()=>{"use strict";u();m();z=0});var E=$((st,k)=>{"use strict";h();b();m();function H(t,e){R(t);let n=w(t,e);return j(n)}k.exports=H});var U=T(E()),A=(0,U.default)({state:{count:0,userInfo:{name:"hxl",age:18}},actions:{incrementAction(){this.count+=1},changeUserInfoAction(t){this.userInfo.name=t.name}}},{isDeepWatch:!0});function J(t,e){console.log("getCount",t,e)}function L(t,e){console.log("getUserInfo",t,e)}A.watchEffect("count",J);A.watchEffect("userInfo",L);console.log("------------------------------");A.incrementAction();A.incrementAction();A.changeUserInfoAction({name:"coderhxl",age:18});
